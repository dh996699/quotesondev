!function(e){e(function(){let o="";e("#new-quote-button").on("click",function(t){t.preventDefault(),o=document.URL,e.ajax({method:"get",url:qod_api.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(o){const t=o[0];console.log(t);const n=t.slug,s=qod_api.home_url+"/"+n+"/";let u=t.content.rendered,l=t.title.rendered,r=t._qod_quote_source,c=t._qod_quote_source_url;r.length>0&&c.length>0?e(".source").html("<a class=“source-url” href=“"+c+"”>, "+r+" </a>"):r.length>0?e(".source").html('<p class=“source">, '+r+" </p>"):c.length>0?e(".source").html("<a class=“source-url” href=“"+c+"”>, "+l+" </a>"):e(".source").html('<p class=“source"></p>'),e(".entry-article").html(u),e(".entry-title").html(l),l>0&&e(".entry-title").html("<h2 class=“entry-title”>"+l+", </h2>"),history.pushState(null,null,s)}).fail(function(e){console.log("error",e)}),e(window).on("popstate",function(){window.location.replace(o)})}),e("#quote-submission-form").on("submit",function(o){o.preventDefault();let t=e("#quote-author").val(),n=e("#quote-content").val(),s=e("#quote-source").val(),u=e("#quote-source-url").val();e.ajax({method:"post",url:qod_api.rest_url+"wp/v2/posts",data:{title:t,content:n,_qod_quote_source:s,_qod_quote_source_url:u},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_api.wpapi_nonce)}}).done(function(){e("#quote-submission-form").slideUp(),e("#quote-submission-form").html("<div class=“success-message”> Thank you! Your message has been submitted. </div>")}).fail(function(e){console.log("error",e)})})})}(jQuery);